<html>
	<head>
	    <title>Gee-Mail Challenge</title>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

        // get all divs with the .`child` class
var children = document.getElementsByClassName('child');
console.log('children class divs', children);


// iterate through the collection of children divs, attach
// an event listener to each one.
for (var i = 0; i < children.length; i++) {
    children[i].addEventListener('click', showSecretToy);
}


// this is the event handler for the event listener above.
// when an event triggers the an `event` object is given to you.
// In side of the event handler function, you can use the `this`
// keyword to refer to the specific div that triggered the event.
function showSecretToy (event) {
    console.log(event); // so much information here!
    console.log(this); // mouse-over this console.log in chrome to see the element on the page
    
    /* 
        the answer...
        first, find the secret toy relative to each `children` div,         
        we use the `this` keyword as a starting point.
    */
    var secretToy = this.querySelectorAll('.secret-toy')[0];
    
    // check if the secretToy has a class `show`
    if (secretToy.classList.contains('show') === false) {
        
        // doesn't exists, add the class `show`
        secretToy.classList.add('show');
        
    } else {
        
        // if it has it, lets remove it.
        secretToy.classList.remove('show');
    }
}


      //entire container
      var container = document.getElementById("main");


      // tr with all elements
      var subjectLineElements = document.getElementsByClassName("subjectLine");
      console.log("subjectLineElements class tr", subjectLineElements);

      // attach event listener to each body th using for loop
      for (var i = 0; i < subjectLineElements.length; i++) {
      	subjectLineElements[i].addEventListener("click", toggleBodyDisplay);
      }

      function toggleBodyDisplay (event) {
      	console.log(event);
      	console.log(this);

      	var bodyToggle = this.querySelectorAll(".body")[0];

      	if (bodyToggle.classList.contains("show") === false) {
      		bodyToggle.classList.add("show");
      	} else {
      		bodyToggle.classList.remove("show");
      	}
      }


      	for(var i = 0; i < window.geemails.length; i++) {
      		console.log(window.geemails[i]);


      //for the whole email subjectLine
      var subjectLine = document.createElement("tr");
      subjectLine.classList.add("subjectLine");


      //populate sender info
      var sender = document.createElement("th");
      sender.classList.add('sender');

      //populate subject info
      var subject = document.createElement("th");
      subject.classList.add('subject');

      //populate date info
      var date = document.createElement("th");
      date.classList.add('date');

      //populate body info
      var body = document.createElement("th");
      body.classList.add('body');


      //access subject objects through window.geemails
      sender.innerHTML = window.geemails[i].sender;
      subject.innerHTML = window.geemails[i].subject;
      date.innerHTML = window.geemails[i].date;
      body.innerHTML = window.geemails[i].body;


      //append subject objects into container
      container.appendChild(subjectLine);
      subjectLine.appendChild(sender);
      subjectLine.appendChild(subject);
      subjectLine.appendChild(date);
      subjectLine.appendChild(body);

    //  subjectLine.onclick = function () {
    //  	var toggleAppendBody = document.getElementById("subjectLine");
    //  	if (subjectLine.appendChild(body) == false) {
    //  		subjectLine.appendChild(body) = true;
    //  	} else {
    //  		subjectLine.appendChild(body) = false;
    //  	}
    //  }

    	// hide/show email body
    //  subjectLine.onclick = function() {
    //  var toggleBody = document.getElementById("bodyId");
    //  if (toggleBody.className == "body") {
    //  	toggleBody.className = "show";
    //  } else {
    //  	toggleBody.className = "body";
    //  }
    //  toggleBody.addEventListener("click", function() {
    //  	if (body.innerHTML.style.display == "none") {
    // 		body.innerHTML.style.display = "inline-block";
    //  	} else {
    //  		body.innerHTML.style.display = "none";
    //  	}
    //  }, false);
    //  if (toggleBody.style.display == "none") {
     // 	toggleBody.style.display = "inline-block";
    //  } else {
     // 	toggleBody.style.display = "none";
     // 		}
  		};

  	//	}

  		//var container = document.createElement("div");
  		//container.className = ("container");
  		//container.onclick = function() {
  			//var emailSubjectLine = getElementById("emailSubjectLine", + index);
  		//	if (emailSubjectLine.style.display == "none") {
  		//		emailSubjectLine.style.display = "inline-block";
  		//	} else {
  		//		emailSubjectLine.style.display = "none"
  		//	}
  		//};

  		//document.getElementById("subjectId").addEventListener("click", showMeBody);
  		
  		//function showMeBody () {
  			//if (document.getElementById("bodyId").style.display = "none") {
  				//document.getElementById("bodyId").style.display = "inline-block";
  			//}
  			//else {
  				//document.getElementById("bodyId").style.display = "none";
  			//}
  		//}

  		//var allEmailBody = document.getElementsByClassName('body');
  		//for (var i = 0; i < allEmailBody.length; i++) {
  			//allEmailBody[i].addEventListener(captureClick);
  		//}

  		//allEmailBody[i].addEventListener('click', captureClick);

  		//function captureClick (event) {
  			//if (display === "none") {
  				//allEmailBody.classList.add(bodyShow);
  			//}
  			//else {
  			//	allEmailBody.classList.remove(bodyShow);
  			//}
  		//}

  		//var emailCount = window.geemails.length;
  		//function incrementEmailCount () {
  		//	count++;
  		//}
  		//console.log(emailCount);
  		//incrementEmailCount();
  		//console.log(count);

  	};
    </script>
	</head>
	<body>
		<table class="container" id="main">
			<thead>
				<tr>
					<th colspan="3">GeeMail</th>
				</tr>
				<tr>
					<th colspan="3">Inbox</th>
				</tr>
				<tr class="subjectLine" id="subjectLine">
					<th class="sender"></th>
					<th class="subject"></th>
					<th class="date"></th>
					<th class="body" id="bodyId"></th>
				</tr>
			</thead>
			<!--<tbody>
				<tr class="subjectLine">
					<td class="sender">Sender</td>
					<td class="subject">Subject</td>
					<td class="body">Body</td>
					<td class="date">Date</td>
				</tr>
			</tbody>-->
		</table>
<!--	<h1>GeeMail</h1>
	<h2>Inbox</h2>
-->
		<!--id "main" used for getElementId-->
<!--		<div class="container" id="main">
			<div class="emailSubjectLine" id="emailSubjectLine">
-->
				<!--to manipulate sender elements-->
<!--				<p class="sender"></p>

-->				<!--to manipulate date elements-->
<!--				<p class="date"></p>

-->				<!--to manipulate subject elements-->
<!--				<p class="subject" id="subjectId"></p>

-->				<!--to manipulate body elements-->
<!--				<p class="body" id="bodyId"></p>
			</div>
		</div>
-->
<div id="family1">
    <div class="child">
        <h2 class="name">Julie</h2>
        <p class="secret-toy">Comic Book</p>
    </div>
    <div class="child">
        <h2 class="name">Todd</h2>
        <p class="secret-toy">500 piece puzzle</p>
    </div>
</div>
	</body>
</html>